<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A simple Progressive Web App demonstrating native device features and offline functionality.">
    <meta name="theme-color" content="#2196F3">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Apple Touch Icon for iOS -->
    <link rel="apple-touch-icon" href="assets/icon-192.png">
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="style.css">
    
    <title>Simple PWA</title>
</head>
<body>
    <!-- Offline Indicator -->
    <div id="offlineIndicator" class="offline-indicator hidden">
        <p>üì° You are offline. Viewing cached content.</p>
    </div>

    <!-- Main Container -->
    <div id="app" class="app-container">
        
        <!-- Home View -->
        <div id="homeView" class="view active">
            <header class="header">
                <h1>Simple PWA</h1>
                <p class="subtitle">Native Features Demo</p>
            </header>
            
            <main class="home-content">
                <p class="welcome-text">Welcome to this simple Progressive Web App!</p>
                
                <div class="features-preview">
                    <h2>Available Features</h2>
                    <ul class="feature-list">
                        <li>üìç Geolocation - Get your current location</li>
                        <li>üì∏ Camera - Capture photos with your device</li>
                        <li>üîî Notifications - Receive browser notifications</li>
                        <li>üì≥ Vibration - Test device vibration</li>
                        <li>üì¥ Offline Support - Works without internet</li>
                    </ul>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="showView('featuresView')">
                        Explore Features
                    </button>
                    <button class="btn btn-secondary" onclick="showView('aboutView')">
                        About This App
                    </button>
                </div>
            </main>
        </div>

        <!-- Features View -->
        <div id="featuresView" class="view">
            <header class="header">
                <button class="btn-back" onclick="showView('homeView')">‚Üê Back</button>
                <h1>Device Features</h1>
            </header>
            
            <main class="features-content">
                
                <!-- Geolocation Feature -->
                <section class="feature-section">
                    <h2>üìç Geolocation</h2>
                    <p class="feature-description">Get your current location using the Geolocation API.</p>
                    <button class="btn btn-primary" onclick="getGeolocation()">
                        Get My Location
                    </button>
                    <div id="geolocationResult" class="result-box hidden">
                        <p><strong>Latitude:</strong> <span id="latitude">-</span></p>
                        <p><strong>Longitude:</strong> <span id="longitude">-</span></p>
                        <p><strong>Accuracy:</strong> <span id="accuracy">-</span> meters</p>
                    </div>
                    <p id="geolocationError" class="error-message hidden"></p>
                </section>

                <!-- Camera Feature -->
                <section class="feature-section">
                    <h2>üì∏ Camera</h2>
                    <p class="feature-description">Capture a photo using your device camera via the Camera API.</p>
                    <button class="btn btn-primary" onclick="openCamera()">
                        Open Camera
                    </button>
                    <input type="file" id="cameraInput" accept="image/*" capture="environment" style="display: none;">
                    <div id="cameraResult" class="result-box hidden">
                        <img id="capturedImage" src="" alt="Captured photo" style="max-width: 100%; border-radius: 8px;">
                    </div>
                    <p id="cameraError" class="error-message hidden"></p>
                </section>

                <!-- Notifications Feature -->
                <section class="feature-section">
                    <h2>üîî Notifications</h2>
                    <p class="feature-description">Send a browser notification using the Notifications API.</p>
                    <button class="btn btn-primary" onclick="sendNotification()">
                        Send Notification
                    </button>
                    <p id="notificationStatus" class="info-message hidden"></p>
                </section>

                <!-- Vibration Feature -->
                <section class="feature-section">
                    <h2>üì≥ Vibration Test</h2>
                    <p class="feature-description">Test the Vibration API with a custom pattern (short-long-short).</p>
                    <button class="btn btn-primary" onclick="testVibration()">
                        Vibrate Device
                    </button>
                    <p id="vibrationStatus" class="info-message hidden"></p>
                </section>

            </main>
        </div>

        <!-- About View -->
        <div id="aboutView" class="view">
            <header class="header">
                <button class="btn-back" onclick="showView('homeView')">‚Üê Back</button>
                <h1>About This App</h1>
            </header>
            
            <main class="about-content">
                <section class="info-section">
                    <h2>What is a PWA?</h2>
                    <p>A Progressive Web App (PWA) is a web application that uses modern web technologies to provide a user experience similar to native applications. PWAs are installable, work offline, and can access device features.</p>
                </section>

                <section class="info-section">
                    <h2>Key Features of This App</h2>
                    <ul class="info-list">
                        <li><strong>Installable:</strong> Add this app to your home screen</li>
                        <li><strong>Offline Support:</strong> Service Worker caches all assets</li>
                        <li><strong>Native Features:</strong> Geolocation, Camera, and Notifications</li>
                        <li><strong>Responsive Design:</strong> Works on mobile and desktop</li>
                        <li><strong>No Dependencies:</strong> Pure HTML, CSS, and JavaScript</li>
                    </ul>
                </section>

                <section class="info-section">
                    <h2>Technologies Used</h2>
                    <ul class="info-list">
                        <li>Service Worker API - For offline caching</li>
                        <li>Geolocation API - For location access</li>
                        <li>Camera API - For photo capture</li>
                        <li>Notifications API - For browser notifications</li>
                        <li>Vibration API - For tactile feedback</li>
                        <li>Web App Manifest - For PWA installation</li>
                    </ul>
                </section>

                <section class="info-section">
                    <h2>Browser Compatibility</h2>
                    <p>This app works best on modern browsers that support PWA features. For the best experience, use Chrome, Firefox, Edge, or Safari on iOS 15+.</p>
                </section>
            </main>
        </div>

    </div>

    <!-- JavaScript -->
    <script src="app.js"></script>
</body>
</html>
